//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
define(function(){var e=this;var t=e._;var n={};var r=Array.prototype,i=Object.prototype,s=Function.prototype;var o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty;var c=Array.isArray,h=Object.keys,p=s.bind;var d=function(e){if(e instanceof d)return e;if(!(this instanceof d))return new d(e);this._wrapped=e};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=d}exports._=d}else{e._=d}d.VERSION="1.6.0";d.each=d.forEach=function(e,t,r){if(e==null)return e;if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++){if(t.call(r,e[i],i,e)===n)return}}else{var o=d.keys(e);for(var i=0,s=o.length;i<s;i++){if(t.call(r,e[o[i]],o[i],e)===n)return}}return e};d.map=d.collect=function(e,t,n){var r=[];if(e==null)return r;d.each(e,function(e,i,s){r.push(t.call(n,e,i,s))});return r};var v="Reduce of empty array with no initial value";d.reduce=d.foldl=d.inject=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];d.each(e,function(e,s,o){if(!i){n=e;i=true}else{n=t.call(r,n,e,s,o)}});if(!i)throw new TypeError(v);return n};d.reduceRight=d.foldr=function(e,t,n,r){var i=arguments.length>2;if(e==null)e=[];var s=e.length;if(s!==+s){var o=d.keys(e);s=o.length}d.each(e,function(u,a,f){a=o?o[--s]:--s;if(!i){n=e[a];i=true}else{n=t.call(r,n,e[a],a,f)}});if(!i)throw new TypeError(v);return n};d.find=d.detect=function(e,t,n){var r;d.some(e,function(e,i,s){if(t.call(n,e,i,s)){r=e;return true}});return r};d.filter=d.select=function(e,t,n){var r=[];if(e==null)return r;d.each(e,function(e,i,s){if(t.call(n,e,i,s))r.push(e)});return r};d.reject=function(e,t,n){return d.filter(e,d.negate(t),n)};d.every=d.all=function(e,t,r){t||(t=d.identity);var i=true;if(e==null)return i;d.each(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n});return!!i};d.some=d.any=function(e,t,r){t||(t=d.identity);var i=false;if(e==null)return i;d.each(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n});return!!i};d.contains=d.include=function(e,t){if(e==null)return false;return d.some(e,function(e){return e===t})};d.invoke=function(e,t){var n=u.call(arguments,2);var r=d.isFunction(t);return d.map(e,function(e){return(r?t:e[t]).apply(e,n)})};d.pluck=function(e,t){return d.map(e,d.property(t))};d.where=function(e,t){return d.filter(e,d.matches(t))};d.findWhere=function(e,t){return d.find(e,d.matches(t))};d.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(!t&&d.isArray(e)){for(var u=0,a=e.length;u<a;u++){s=e[u];if(s>r){r=s}}}else{d.each(e,function(e,s,u){o=t?t.call(n,e,s,u):e;if(o>i){r=e;i=o}})}return r};d.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(!t&&d.isArray(e)){for(var u=0,a=e.length;u<a;u++){s=e[u];if(s<r){r=s}}}else{d.each(e,function(e,s,u){o=t?t.call(n,e,s,u):e;if(o<i){r=e;i=o}})}return r};d.shuffle=function(e){var t;var n=0;var r=[];d.each(e,function(e){t=d.random(n++);r[n-1]=r[t];r[t]=e});return r};d.sample=function(e,t,n){if(t==null||n){if(e.length!==+e.length)e=d.values(e);return e[d.random(e.length-1)]}return d.shuffle(e).slice(0,Math.max(0,t))};var m=function(e){if(e==null)return d.identity;if(d.isFunction(e))return e;return d.property(e)};d.sortBy=function(e,t,n){t=m(t);return d.pluck(d.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria;var r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var g=function(e){return function(t,n,r){var i={};n=m(n);d.each(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)});return i}};d.groupBy=g(function(e,t,n){d.has(e,t)?e[t].push(n):e[t]=[n]});d.indexBy=g(function(e,t,n){e[t]=n});d.countBy=g(function(e,t){d.has(e,t)?e[t]++:e[t]=1});d.sortedIndex=function(e,t,n,r){n=m(n);var i=n.call(r,t);var s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s};d.toArray=function(e){if(!e)return[];if(d.isArray(e))return u.call(e);if(e.length===+e.length)return d.map(e,d.identity);return d.values(e)};d.size=function(e){if(e==null)return 0;return e.length===+e.length?e.length:d.keys(e).length};d.first=d.head=d.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];if(t<0)return[];return u.call(e,0,t)};d.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))};d.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return u.call(e,Math.max(e.length-t,0))};d.rest=d.tail=d.drop=function(e,t,n){return u.call(e,t==null||n?1:t)};d.compact=function(e){return d.filter(e,d.identity)};var y=function(e,t,n,r){if(t&&d.every(e,d.isArray)){return a.apply(r,e)}for(var i=0,s=e.length;i<s;i++){var u=e[i];if(!d.isArray(u)&&!d.isArguments(u)){if(!n)r.push(u)}else if(t){o.apply(r,u)}else{y(u,t,n,r)}}return r};d.flatten=function(e,t){return y(e,t,false,[])};d.without=function(e){return d.difference(e,u.call(arguments,1))};d.partition=function(e,t,n){t=m(t);var r=[],i=[];d.each(e,function(e){(t.call(n,e)?r:i).push(e)});return[r,i]};d.uniq=d.unique=function(e,t,n,r){if(e==null)return[];if(d.isFunction(t)){r=n;n=t;t=false}var i=[];var s=[];for(var o=0,u=e.length;o<u;o++){var a=e[o];if(n)a=n.call(r,a,o,e);if(t?!o||s!==a:!d.contains(s,a)){if(t)s=a;else s.push(a);i.push(e[o])}}return i};d.union=function(){return d.uniq(y(arguments,true,true,[]))};d.intersection=function(e){if(e==null)return[];var t=[];var n=arguments.length;for(var r=0,i=e.length;r<i;r++){var s=e[r];if(d.contains(t,s))continue;for(var o=1;o<n;o++){if(!d.contains(arguments[o],s))break}if(o===n)t.push(s)}return t};d.difference=function(e){var t=y(u.call(arguments,1),true,true,[]);return d.filter(e,function(e){return!d.contains(t,e)})};d.zip=function(){var e=d.max(d.pluck(arguments,"length").concat(0));var t=new Array(e);for(var n=0;n<e;n++){t[n]=d.pluck(arguments,""+n)}return t};d.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++){if(t){n[e[r]]=t[r]}else{n[e[r][0]]=e[r][1]}}return n};d.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n=="number"){r=n<0?Math.max(0,i+n):n}else{r=d.sortedIndex(e,t);return e[r]===t?r:-1}}for(;r<i;r++)if(e[r]===t)return r;return-1};d.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n==null?e.length:n;while(r--)if(e[r]===t)return r;return-1};d.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0);var i=0;var s=new Array(r);while(i<r){s[i++]=e;e+=n}return s};var b=function(){};d.bind=function(e,t){var n,r;if(p&&e.bind===p)return p.apply(e,u.call(arguments,1));if(!d.isFunction(e))throw new TypeError;n=u.call(arguments,2);return r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));b.prototype=e.prototype;var i=new b;b.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));if(Object(s)===s)return s;return i}};d.partial=function(e){var t=u.call(arguments,1);return function(){var n=0;var r=t.slice();for(var i=0,s=r.length;i<s;i++){if(r[i]===d)r[i]=arguments[n++]}while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}};d.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");d.each(t,function(t){e[t]=d.bind(e[t],e)});return e};d.memoize=function(e,t){var n={};t||(t=d.identity);return function(){var r=t.apply(this,arguments);return d.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}};d.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};d.defer=function(e){return d.delay.apply(d,[e,1].concat(u.call(arguments,1)))};d.throttle=function(e,t,n){var r,i,s;var o=null;var u=0;n||(n={});var a=function(){u=n.leading===false?0:d.now();o=null;s=e.apply(r,i);r=i=null};return function(){var f=d.now();if(!u&&n.leading===false)u=f;var l=t-(f-u);r=this;i=arguments;if(l<=0||l>t){clearTimeout(o);o=null;u=f;s=e.apply(r,i);r=i=null}else if(!o&&n.trailing!==false){o=setTimeout(a,l)}return s}};d.debounce=function(e,t,n){var r,i,s,o,u;var a=function(){var f=d.now()-o;if(f<t&&f>0){r=setTimeout(a,t-f)}else{r=null;if(!n){u=e.apply(s,i);s=i=null}}};return function(){s=this;i=arguments;o=d.now();var f=n&&!r;if(!r){r=setTimeout(a,t)}if(f){u=e.apply(s,i);s=i=null}return u}};d.once=function(e){var t=false,n;return function(){if(t)return n;t=true;n=e.apply(this,arguments);e=null;return n}};d.wrap=function(e,t){return d.partial(t,e)};d.negate=function(e){return function(){return!e.apply(this,arguments)}};d.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--){t=[e[n].apply(this,t)]}return t[0]}};d.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};d.keys=function(e){if(!d.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)if(d.has(e,n))t.push(n);return t};d.values=function(e){var t=d.keys(e);var n=t.length;var r=new Array(n);for(var i=0;i<n;i++){r[i]=e[t[i]]}return r};d.pairs=function(e){var t=d.keys(e);var n=t.length;var r=new Array(n);for(var i=0;i<n;i++){r[i]=[t[i],e[t[i]]]}return r};d.invert=function(e){var t={};var n=d.keys(e);for(var r=0,i=n.length;r<i;r++){t[e[n[r]]]=n[r]}return t};d.functions=d.methods=function(e){var t=[];for(var n in e){if(d.isFunction(e[n]))t.push(n)}return t.sort()};d.extend=function(e){d.each(u.call(arguments,1),function(t){if(t){for(var n in t){e[n]=t[n]}}});return e};d.pick=function(e,t,n){var r={};if(d.isFunction(t)){for(var i in e){var s=e[i];if(t.call(n,s,i,e))r[i]=s}}else{var o=a.apply([],u.call(arguments,1));for(var f=0,l=o.length;f<l;f++){var i=o[f];if(i in e)r[i]=e[i]}}return r};d.omit=function(e,t,n){var r;if(d.isFunction(t)){t=d.negate(t)}else{r=d.map(a.apply([],u.call(arguments,1)),String);t=function(e,t){return!d.contains(r,t)}}return d.pick(e,t,n)};d.defaults=function(e){d.each(u.call(arguments,1),function(t){if(t){for(var n in t){if(e[n]===void 0)e[n]=t[n]}}});return e};d.clone=function(e){if(!d.isObject(e))return e;return d.isArray(e)?e.slice():d.extend({},e)};d.tap=function(e,t){t(e);return e};var w=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;if(e instanceof d)e=e._wrapped;if(t instanceof d)t=t._wrapped;var i=f.call(e);if(i!=f.call(t))return false;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return false;var s=n.length;while(s--){if(n[s]==e)return r[s]==t}var o=e.constructor,u=t.constructor;if(o!==u&&!(d.isFunction(o)&&o instanceof o&&d.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t){return false}n.push(e);r.push(t);var a=0,l=true;if(i=="[object Array]"){a=e.length;l=a==t.length;if(l){while(a--){if(!(l=w(e[a],t[a],n,r)))break}}}else{for(var c in e){if(d.has(e,c)){a++;if(!(l=d.has(t,c)&&w(e[c],t[c],n,r)))break}}if(l){for(c in t){if(d.has(t,c)&&!(a--))break}l=!a}}n.pop();r.pop();return l};d.isEqual=function(e,t){return w(e,t,[],[])};d.isEmpty=function(e){if(e==null)return true;if(d.isArray(e)||d.isString(e))return e.length===0;for(var t in e)if(d.has(e,t))return false;return true};d.isElement=function(e){return!!(e&&e.nodeType===1)};d.isArray=c||function(e){return f.call(e)=="[object Array]"};d.isObject=function(e){return e===Object(e)};d.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){d["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}});if(!d.isArguments(arguments)){d.isArguments=function(e){return!!(e&&d.has(e,"callee"))}}if(typeof /./!=="function"){d.isFunction=function(e){return typeof e==="function"}}d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};d.isNaN=function(e){return d.isNumber(e)&&e!=+e};d.isBoolean=function(e){return e===true||e===false||f.call(e)=="[object Boolean]"};d.isNull=function(e){return e===null};d.isUndefined=function(e){return e===void 0};d.has=function(e,t){return l.call(e,t)};d.noConflict=function(){e._=t;return this};d.identity=function(e){return e};d.constant=function(e){return function(){return e}};d.noop=function(){};d.property=function(e){return function(t){return t[e]}};d.matches=function(e){return function(t){if(t===e)return true;for(var n in e){if(e[n]!==t[n])return false}return true}};d.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r};d.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};d.now=Date.now||function(){return(new Date).getTime()};var E={escape:{"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=d.invert(E.escape);var S={escape:new RegExp("["+d.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+d.keys(E.unescape).join("|")+")","g")};d.each(["escape","unescape"],function(e){d[e]=function(t){if(t==null)return"";return(""+t).replace(S[e],function(t){return E[e][t]})}});d.result=function(e,t){if(e==null)return void 0;var n=e[t];return d.isFunction(n)?n.call(e):n};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];o.apply(e,arguments);return L.call(this,n.apply(d,e))}})};var x=0;d.uniqueId=function(e){var t=++x+"";return e?e+t:t};d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/;var N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var C=/\\|'|\r|\n|\u2028|\u2029/g;var k=function(e){return"\\"+N[e]};d.template=function(e,t,n){n=d.defaults({},n,d.templateSettings);var r=new RegExp([(n.escape||T).source,(n.interpolate||T).source,(n.evaluate||T).source].join("|")+"|$","g");var i=0;var s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(C,k);i=u+t.length;if(n){s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(r){s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"}else if(o){s+="';\n"+o+"\n__p+='"}return t});s+="';\n";if(!n.variable)s="with(obj||{}){\n"+s+"}\n";s="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){u.source=s;throw u}if(t)return o(t,d);var a=function(e){return o.call(this,e,d)};var f=n.variable||"obj";a.source="function("+f+"){\n"+s+"}";return a};d.chain=function(e){return d(e).chain()};var L=function(e){return this._chain?d(e).chain():e};d.mixin(d);d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];d.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e=="shift"||e=="splice")&&n.length===0)delete n[0];return L.call(this,n)}});d.each(["concat","join","slice"],function(e){var t=r[e];d.prototype[e]=function(){return L.call(this,t.apply(this._wrapped,arguments))}});d.extend(d.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}});return d})